# Zrooms - Zoom Room Status Dashboard

Zrooms is a Go application that tracks and displays the status of Zoom meetings in physical meeting rooms. It receives webhook notifications from Zoom about meeting events, processes and stores this information, and provides a web interface to monitor room availability and meeting status in real-time.

## Features

- **Real-time Meeting Status**: Displays which rooms are in use and what meetings are taking place
- **Participant Tracking**: Shows how many participants are in each meeting
- **Auto-refreshing Dashboard**: Automatically updates to show the latest room status
- **Zoom Webhook Integration**: Processes Zoom meeting events (creation, start, end, participant changes)
- **API Endpoints**: RESTful API for room and meeting management

## Architecture

Zrooms follows a clean architecture approach with the following components:

- **API Layer**: Handles HTTP requests and webhook events from Zoom
- **Service Layer**: Contains the business logic for room and meeting management
- **Repository Layer**: Provides data storage and retrieval abstraction
- **Web Interface**: Displays room and meeting status in a user-friendly dashboard

## Getting Started

### Prerequisites

- Go 1.24 or higher
- Zoom account with webhook capabilities

### Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/navikt/zrooms.git
   cd zrooms
   ```

2. Build the application:
   ```bash
   make build
   ```

3. Run the application:
   ```bash
   ./bin/zrooms
   ```

### Configuration

Configuration is handled through environment variables:

- `PORT`: HTTP server port (default: 8080)
- `REFRESH_RATE`: Web UI auto-refresh interval in seconds (default: 30)
- `LOG_LEVEL`: Logging level (default: info)
- `ZOOM_CLIENT_ID`: Zoom OAuth client ID
- `ZOOM_CLIENT_SECRET`: Zoom OAuth client secret
- `ZOOM_REDIRECT_URI`: Redirect URI for Zoom OAuth
- `ZOOM_WEBHOOK_URL`: URL for Zoom to send webhook events
- `ZOOM_WEBHOOK_SECRET_TOKEN`: Secret token for validating Zoom webhook requests

## Usage

### Web Interface

Access the web dashboard at `http://localhost:8080/` to view room and meeting status.

### Demo Mode

To populate the application with sample data for demonstration purposes:

```bash
./scripts/demo-data.sh
```

This script will create sample rooms and meetings, simulating real Zoom activity.

## Development

### Project Structure

```
zrooms/
├── cmd/zrooms/           # Application entrypoint
├── internal/
│   ├── api/              # API handlers and routes
│   ├── models/           # Data models
│   ├── repository/       # Data access layer
│   ├── service/          # Business logic
│   └── web/              # Web UI templates and handlers
└── scripts/              # Utility scripts
```

### Running Tests

```bash
make test
```

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.

## Contact

For any questions, issues, or feature requests, please reach out to the AppSec team:
- Internal: Either our slack channel [#appsec](https://nav-it.slack.com/archives/C06P91VN27M) or contact a [team member](https://teamkatalogen.nav.no/team/02ed767d-ce01-49b5-9350-ee4c984fd78f) directly via slack/teams/mail.
- External: [Open GitHub Issue](https://github.com/navikt/appsec-github-watcher/issues/new/choose)

## Code generated by GitHub Copilot

This project was developed with the assistance of GitHub Copilot, an AI-powered code completion tool.